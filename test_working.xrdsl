(defbehavior somespin
  (state 
    (speed 10.0)
    (time 0.0)
    (rotation 0.0))
  (update (dt)
    (begin
      (set! time (add time dt))
      (set! rotation (add rotation (mul speed dt)))
      (set! rotation.y rotation))))

(defscene3d demo-scene
  (camera
    (position 0 8 15)
    (target 0 0 0)
    (fov 40))
    
  (object cube1 cube
    (position -3 1 0)
    (scale 1.0 1.0 1.0)
    (behavior somespin))
    
  (object cube2 cube
    (position 3 1 0)
    (scale 1.0 1.0 1.0)
    (behavior somespin)))