; Interactive transform gizmo test scene
; This demonstrates the interactive behavior for manipulating objects

(defbehavior spin
  (state (speed 0.5))
  (update (dt)
    (set! rotation.y (+ rotation.y (* speed dt)))))

(defscene3d interactive-test-scene
  (camera
    (position 0 5 12)
    (target 0 0 0)
    (fov 60))
    
  (lighting
    (ambient 0.3 0.3 0.3)
    (directional
      (direction 1 1 1)
      (color 1.0 1.0 1.0)
      (intensity 1.0)))
  
  ; Interactive cube - can be manipulated with gizmos
  (object interactive-cube cube
    (position 0 0 0)
    (scale 2 2 2)
    (interactive true))  ; Enable transform gizmos
    
  ; Another interactive cube with behavior
  (object spinning-interactive cube
    (position -4 0 0)
    (scale 1.5 1.5 1.5)
    (behavior spin)
    (interactive true))  ; Both spinning and interactive
    
  ; Non-interactive cube for comparison
  (object static-cube cube
    (position 4 0 0)
    (scale 1 1 1)
    (interactive false))  ; No gizmos
    
  ; Interactive without explicit flag - using behavior name
  (object auto-interactive cube
    (position 0 3 0)
    (scale 1 1 1)
    (behavior interactive))  ; "interactive" behavior auto-enables gizmos
    
  (ui-element instructions panel
    (position 0 -4 0)
    (size 40 8)
    (text "Interactive Gizmo Test\n\nClick on cubes to select\nDrag gizmo handles to transform\n[T] Translate | [R] Rotate | [S] Scale")
    (color 1.0 1.0 1.0 0.9)))