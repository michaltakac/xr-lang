; Test scene to verify rotation fix - cubes should rotate, not scale

(defbehavior slow-spin
  (state (speed 0.5))
  (update (dt)
    (set! rotation.y (+ rotation.y (* speed dt)))))

(defbehavior fast-spin  
  (state (speed 2.0))
  (update (dt)
    (set! rotation.y (+ rotation.y (* speed dt)))))

(defscene3d rotation-test
  (camera
    (position 0 3 10)
    (target 0 0 0)
    (fov 60))
    
  (lighting
    (ambient 0.3 0.3 0.3)
    (directional
      (direction 1 1 1)
      (color 1.0 1.0 1.0)
      (intensity 1.0)))
  
  ; Slow rotating cube
  (object slow-cube cube
    (position -3 0 0)
    (scale 1 1 1)
    (behavior slow-spin))
    
  ; Fast rotating cube  
  (object fast-cube cube
    (position 0 0 0)
    (scale 1.5 1.5 1.5)
    (behavior fast-spin))
    
  ; Static cube for reference
  (object static-cube cube
    (position 3 0 0)
    (scale 1 1 1))
    
  (ui-element status panel
    (position 0 4 0)
    (size 30 5)
    (text "Rotation Test\nCubes should ROTATE, not scale!")
    (color 1.0 1.0 1.0 0.9)))